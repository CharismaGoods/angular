<div [class]="flexView || ''">
  <mat-label *ngIf="title"
    >{{ title }} <span style="color: red" *ngIf="required">*</span></mat-label
  >
  <mat-form-field
    class="example-full-width"
    appearance="fill"
    appearance="outline"
    style="width: 100%"
    class="field"
    *ngIf="control"
  >
    <mat-select
      (opened)="open()"
      (selectionChange)="catchData($event)"
      [formControl]="control"
      (click)="checkData()"
    >
      <div class="input-container">
        <input
          type="text"
          #searchInput
          [formControl]="myControl"
          class="custom-input"
          (keydown.space)="$event.stopPropagation()"
          [placeholder]="label"
        />
      </div>
      <mat-option *ngIf="selectedOption" [value]="selectedOption[selectKey]">
        <span
          [innerHTML]="
            selectedOption[searchKey] | highlight : searchInput.value
          "
        >
        </span
      ></mat-option>
      <mat-option
        *ngFor="let option of filteredOptions | async"
        [value]="option[selectKey]"
      >
        <span [innerHTML]="option[searchKey] | highlight : searchInput.value">
        </span>
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>
